<!DOCTYPE html>
<html lang="pt_br">
<head>
	<meta charset="utf-8">
    <!--<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">-->
    <!-- plugins:css -->

	<link rel="shortcut icon" href="Public/Imagens/favicon.png" />
    <link rel="stylesheet" href="Public/css/style.css">	
	<link rel="stylesheet" href="Public/css/main.css">
	<link rel="stylesheet" href="Public/css/style_a.css">
    <link rel="stylesheet" href="Public/css/table.css">
    <script src="Public/js/geral.js" type="text/javascript"></script>
    
    	    <!-- Bootstrap -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

    <!-- JQuery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <!--    Cookies 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js" integrity="sha512-3j3VU6WC5rPQB4Ld1jnLV7Kd5xr+cq9avvhwqzbH/taCRNURoeEpoPBK9pDyeukwSxwRPJ8fDgvYXd6SkaZ2TA==" crossorigin="anonymous"></script>  -->
    <script type="text/javascript" src="Public/js/jquery.cookie.min.js" ></script>
    

    <script type="text/javascript"> 
        if(typeof jQuery === 'undefined'){
              console.log('no jQuery');
                var head = document.getElementsByTagName('head')[0];
                var script = document.createElement('script');
                script.type = 'text/javascript';
                script.src = 'Public/js/jquery-3.6.0.min.js';
                script.onload = handler;
                head.appendChild(script);
            }else{console.log('jQuery is embedded!');}
    function handler(){ console.log('jquery added :)'); }
    </script>
    
    <script type="text/javascript" src="./local/conf.json"></script>

    <script type="text/javascript">
        var host = 'http://127.0.0.1:8000';
        var sdw_ambiente = "DEV";
        if (conf) { var config = JSON.parse(conf); }
        if (config) {
            var host = config[0].server;    
            var sdw_ambiente = config[0].ambiente ;        
           }
        console.log("Ambiente : " + sdw_ambiente + " | Server : "+ host);    
    </script>

</head>

<body onload="loadWindow()">
<div>
    <!--    HEADER DO FORM  -->
	<nav class="nav_top">
		    <div>
		  		<a class="logo" href="http://talkd.com.br/"> <img src="Public/Imagens/logo_original_final_branco.png" alt="logo"  /></a>
			</div>
			<div class="topo_center">
				<p style="text-align: center; font-size: 36px; color: ghostwhite"> Portal SD WAN </p> 
			</div>
	</nav>
	<!-- Menu Principal -->
	<div class="menu_top">
		<ul>
			<li><a href="close.html">Sair</a></li>
			<li><a href="ConsoleCliente.html">Console Cliente</a></li>
		</ul>
	</div><br>    
        <!--    FORMULARIO  -->    
    <div style = "width: 100%; align-items: start; display: flex; flex-direction: row; flex-wrap: wrap">
    <div>
	<div class="block_form">
        <!--    FORM  -->
		<form>
		<p>Acompanhamento dos Contratos  </p>
        <fildset>        
         <label style = "width: 80px" for="whe_Estado">Estado</label>    
            <select name = "whe_Estado" id="whe_Estado">
                <option value=""> Selecione</option>
                <option value="AC"> Acre </option>
                <option value="AL"> Alagoas </option>
                <option value="AM"> Amazonas </option>
                <option value="AP"> Amapa </option>
                <option value="BA"> Bahia </option>
                <option value="CE"> Ceara </option>
                <option value="DF"> Distrito Federal </option>
                <option value="ES"> Espirito Santo </option>
                <option value="GO"> Goiania </option>
                <option value="AP"> Amapa </option>
                <option value="MA"> Maranhão </option>
                <option value="MG"> MInas Gerais </option>
                <option value="MS"> Mato Grosso Sul </option>
                <option value="MT"> Mato Grosso </option>
                <option value="PA"> Para </option>
                <option value="PB"> Paraiba </option>
                <option value="PE"> Pernambuco </option>
                <option value="PI"> Piaui </option>
                <option value="PR"> Parana </option>
                <option value="RJ"> Rio de Janeiro </option>
                <option value="RN"> Rio Grande do Norte </option>
                <option value="RO"> Rondonia </option>
                <option value="RR"> Roraima </option>
                <option value="RS"> Rio Grande do Sul </option>
                <option value="SC"> Santa Catarina </option>
                <option value="SE"> Sergipe </option>
                <option value="SP"> São Paulo </option>
                <option value="TO"> Tocantis </option>
            </select> 
        <label style = "width: 40px" for="whe_Cidade">Cidade</label>
            <select name = "whe_Cidade" id="whe_Cidade" style = "width: 220px" ></select>    
            
        <label style = "width: 40px" for="ctq_Cliente">Cliente</label>
            <select style = "width: 260px" name="ctq_Cliente" id="ctq_Cliente"></select>
  
        <input class="button button1" type="button" value="Pesquisar" onclick="load_contratos()"> 
            <br>

        <div id="mytable" class="table table-striped table-bordered table-sm" style = "overflow-y:scroll; height:496px; width: 100%"></div>
   
         <label style = "width: 80px" for="ct_ID">ID</label><input style = "width: 80px" class="fieldrw" id="ct_ID" type="text" >
         <label style = "width: 80px" for="ct_Designacao">Designação</label><input style = "width: 160px" class="field" id="ct_Designacao" type="text" readonly>
         <label style = "width: 70px" for="ct_taxa">Mensalidade</label><input style = "width: 80px" class="field" id="ct_taxa" type="number" readonly>    
         <label style = "width: 70px" for="ct_taxa_instal">Instalação</label><input style = "width: 90px" class="field" id="ct_taxa_instal" type="number" readonly>  
         <label style = "width: 80px" for="ct_data_ativacao">Data Ativação</label><input style = "width: 140px" class="field" id="ct_data_ativacao" type="date" readonly>             
            <br>    
         <label style = "width: 80px" for="ct_Logradouro">Logradouro</label><input style = "width: 600px" class="field" id="ct_Logradouro" type="text" readonly>
         <label style = "width: 55px" for="ct_Numero">Numero</label><input style = "width: 60px" class="field" id="ct_Numero" type="text" readonly>
         <label style = "width: 80px" for="ct_Complemento">Complemento</label><input style = "width: 90px" class="field" id="ct_Complemento" type="text" readonly>
            <br>    
         <label style = "width: 80px" for="ct_Estado">Estado</label><input style = "width: 80px" class="field" id="ct_Estado" type="text" readonly>
         <label style = "width: 60px" for="ct_Cidade">Cidade</label><input style = "width: 340px" class="field" id="ct_Cidade" type="text" readonly>
         <label style = "width: 60px" for="ct_Bairro">Bairro</label><input style = "width: 180px" class="field" id="ct_Bairro" type="text" readonly>
         <label style = "width: 45px" for="ct_CEP">CEP</label><input style = "width: 100px" class="field" id="ct_CEP" type="text" readonly>
            <br>
         <label style = "width: 80px ; heigh: 120px " for="ct_Detalhes">Detalhes</label><input style = "width: 920px" class="field" id="ct_Detalhes" type="textbox" readonly>
            <br>
        <label style = "width: 80px" for="ct_cliente">Cliente</label><input style = "width: 360px" class="field" id="ct_cliente" type="textbox" readonly>     
        <label style = "width: 80px" for="ct_cliente_resp">Responsavel</label><input style = "width: 200px" class="field" id="ct_cliente_resp" type="textbox" readonly>
        <input class="button button3" type="button" value="Consulta Cliente" onclick="#">           
            <br>    
         <label style = "width: 80px" for="ct_Provedor_OS">OS</label><input style = "width: 90px" class="field" id="ct_Provedor_OS" type="textbox" readonly>
            <br>
         <label style = "width: 80px;  vertical-align:top " for="ct_notas">Notas</label><input style = "width: 920px" class="field" id="ct_notas" type="textbox" readonly>
            <!--   Linhas de Botões --> 
          
            </fildset>
        </form>
    <br>
    </div>
        <div class="block_form">
            <form><fieldset>
                    <label style = "width: 80px" for="ct_Provedor_Nome">Provedor</label><input style = "width: 240px" class="field" id="ct_Provedor_Nome" type="textbox" readonly>
                 <label style = "width: 80px" for="ct_Provedor_Ct">Contrato</label><input style = "width: 120px" class="field" id="ct_Provedor_Ct" type="textbox" readonly>
                    <input class="button button3" type="button" value="Cobertura" onclick="Open_Cobertura()">
                    <input class="button button3" type="button" value="Provedor" onclick="Open_Provedor()">                
                </fieldset>
            </form> 
        </div>
        <div class="block_form" hidden >
            <form>
            <fieldset>
                <p> Dados Internos</p>
                    <label style = "width: 120px" for="ctq_ID">Cliente ID</label><input style = "width: 60px" class="field" id="ctq_ID" type="textbox" readonly>  
                    <label style = "width: 80px" for="ct_Provedor_ID">Provedor ID</label><input style = "width: 60px" class="field" id="ct_Provedor_ID" type="textbox">     <br>
                    <label style = "width: 80px" for="ct_CoberturaID">ID Cobertura</label><input style = "width: 60px" class="field" id="ct_CoberturaID" type="textbox">     <br>      
                    <label style = "width: 80px" for="ct_cliente_resp_id">Responsável ID</label><input style = "width: 60px" class="field" id="ct_cliente_resp_id" type="textbox"> 
                    <label style = "width: 80px" for="ct_NomePonto">Identificação</label><input style = "width: 280px" class="field" id="ct_NomePonto" type="textbox">   
                        <br>    
                    <label style = "width: 80px" for="ct_Tecnologia">Tecnologia</label><input style = "width: 90px" class="field" id="ct_Tecnologia" type="textbox"> 
                    <label style = "width: 80px" for="pt_Latitude">Latitude</label><input style = "width: 120px" class="field" id="pt_Latitude" type="textbox">
                    <label style = "width: 80px" for="pt_Longitude">Longitude</label><input style = "width: 120px" class="field" id="pt_Longitude" type="textbox">
                    <label style = "width: 80px" for="Empresa">Empresa</label><input style = "width: 120px" class="field" id="Empresa" type="textbox">
                    <br><br><br>
            </fieldset>
            </form>
        </div>

    </div>
            <div class="block_col">
               <h1>Talkd </h1><hr>
               <p>Usuário</p>
               <label>Login</label><br> <input class="field" id="user_Login" type="email" readonly>
               <label>Nome</label><br> <input class="field" id="user_Nome" type="email" readonly>  
               <label>Empresa</label><br> <input class="field" id="user_Empresa" type="textbox" value="Empresa...." readonly>  
               <hr><br> 
            </div>           
    </div>
        
        
</div>
<br>
</body>
<footer>
    <div class="footer" style = "width: 100%; height: 26px ; border: 0px; padding: 1px">
        <pre style="font-size:14px; padding: 2px" ><b style="font-size:16px" >&nbsp;&nbsp;&nbsp;Talkd</b> | Rua Salvador Simões, 801 sl. 1302 - São Paulo-SP  | TEL.: +55 11 3738-6128 | <b style="font-size:16px" >Evolua</b> de forma positiva a jornada de relacionamento com seus clientes. 
        </pre>
    </div>
</footer>
    
    
<!-- ------------------ JAVA SCRIPT ---------------->    
<script type="text/javascript">
    
 document.getElementById("whe_Estado").addEventListener("change", function(){
     menu_Cidade();

});
document.getElementById("ctq_Cliente").addEventListener("change", function(){ 
        var c_id = document.getElementById('ctq_Cliente').value;
        if (c_id != null) { ctq_ID.setAttribute("Value", c_id )};
        var elemento = document.getElementById('ctq_Cliente');
        var c_nome = elemento.options[elemento.selectedIndex].innerHTML;
        if (c_nome != null) { pt_cliente.setAttribute("Value", c_nome )};
});
    
    
        
function loadWindow(){
    var sField = sessionStorage.getItem('tkd_Login');    
    user_Login.setAttribute("Value", sField );
    var sField = sessionStorage.getItem('tkd_Nome');    
    user_Nome.setAttribute("Value", sField );      
    var sField = sessionStorage.getItem('tkd_Empresa');    
    user_Empresa.setAttribute("Value", sField );
    Empresa.setAttribute("Value", sField );
    var c_empresa = sField = sessionStorage.getItem('tkd_Empresa'); 
    menu_Clientes();
    
}
    
document.getElementById("ctq_Cliente").addEventListener("change", function(){ 
        var c_id = document.getElementById('ctq_Cliente').value;
        //if (c_id != null) { ct_ID.setAttribute("Value", c_id )};
        var elemento = document.getElementById('ctq_Cliente');
        var c_nome = elemento.options[elemento.selectedIndex].innerHTML;
        if (c_nome != null) { ct_clienteNome.setAttribute("Value", c_nome )};
}); 
    
    
    
function load_contratos() {   
    const header  = document.querySelector('header');
    const section = document.querySelector('section');
	let headers = new Headers();
 	headers.append('Content-Type', 'application/json');
    headers.append('Accept', 'application/json');
    headers.append('Access-Control-Allow-Origin', host );
    headers.append('Access-Control-Allow-Credentials', 'true');
	headers.append('GET', 'POST', 'OPTIONS');
    headers.append('Upgrade-Insecure-Requests', '1');

    var empresa = document.getElementById('user_Empresa').value;
    var q_Cliente = document.getElementById('ctq_ID').value;   
    var q_Estado = document.getElementById('whe_Estado').value;   
    var q_Cidade = document.getElementById('whe_Cidade').value;     
    

	var requestURL = host + '/contratos?empresa='+empresa ;
    if ( q_Cliente != "" ) { requestURL = requestURL + '&Cliente='+ q_Cliente }; 
    if ( q_Estado != "" ) { requestURL = requestURL + '&Estado='+ q_Estado;
                            console.log( "Estado = " + q_Estado);                      
                           };
    if ( q_Cidade != "" ) { requestURL = requestURL + '&Cidade='+ q_Cidade }; 
 
    console.log('URL: '+ requestURL);   
	var request = new XMLHttpRequest();
	request.open('GET', requestURL);
	request.responseType = 'json';
	request.send();		
		
		request.onload = function() {
		var contratos = request.response;
		//console.log(contratos);		
		c_table(contratos); }	
}
    
	
function c_table(jsonObj) {
	   var lugares = jsonObj;
        console.log(lugares);
		console.log(lugares.length);
        
        while (mytable.hasChildNodes()) { mytable.removeChild(mytable.lastChild);
                                        }
        var mybody = document.getElementsByTagName("mybody")[0];
        mytablebody = document.createElement("tbody");    
	   
	   // --- Cabeçalho da tabela 
		t_colunas = ["Designação", "Cliente" , "Estado" , "Cidade" ,"Ativação", "ID", "Detalhe"];
		myheader=document.createElement("tr");
        
		var zcol_count = t_colunas.length;		
		for(var zcol = 0; zcol < zcol_count ; zcol++) {
			mycurrent_header=document.createElement("th");
			currentheader = document.createTextNode(t_colunas[zcol]);
			mycurrent_header.appendChild(currentheader);
			myheader.appendChild(mycurrent_header);		
		}
		
	   // --- Corpo  da tabela         
        mytablebody.appendChild(myheader);
			//for(var g_i = 1; g_i < 13 ; g_i++) {
		    for(var g_i = 0; g_i < lugares.length ; g_i++) {
			   mycurrent_row = document.createElement("tr"); 
               
				   mycurrent_cell = document.createElement("td");
                   mycurrent_cell.setAttribute("style", "word-wrap: break-word; width: 20%");
                   conteudo = lugares[g_i].Designacao;
				   currenttext = document.createTextNode(conteudo);
				   mycurrent_cell.appendChild(currenttext);
				   mycurrent_row.appendChild(mycurrent_cell);
               
				   mycurrent_cell = document.createElement("td");
                   mycurrent_cell.setAttribute("style", "word-wrap: break-word; width: 52%");
                   conteudo = lugares[g_i].Cliente_Final;
			   	   currenttext = document.createTextNode(conteudo);
				   mycurrent_cell.appendChild(currenttext);
				   mycurrent_row.appendChild(mycurrent_cell);
                
   				   mycurrent_cell = document.createElement("td");
                   mycurrent_cell.setAttribute("style", "word-wrap: break-word; width: 4%");
                   conteudo = lugares[g_i].End_UF;
			   	   currenttext = document.createTextNode(conteudo);
				   mycurrent_cell.appendChild(currenttext);
				   mycurrent_row.appendChild(mycurrent_cell); 
                
                   mycurrent_cell = document.createElement("td");
                   mycurrent_cell.setAttribute("style", "word-wrap: break-word; width: 12%");
                   conteudo = lugares[g_i].End_Cidade;
			   	   currenttext = document.createTextNode(conteudo);
				   mycurrent_cell.appendChild(currenttext);
				   mycurrent_row.appendChild(mycurrent_cell);   
                				   
				   mycurrent_cell = document.createElement("td");
                   mycurrent_cell.setAttribute("style", "word-wrap: break-word; width: 12%");
                   conteudo = lugares[g_i].Data_Ativacao;
                   conteudo = EpochToDateList(conteudo);
			   	   currenttext = document.createTextNode(conteudo);
				   mycurrent_cell.appendChild(currenttext);
				   mycurrent_row.appendChild(mycurrent_cell);
			   
				   mycurrent_cell = document.createElement("td");
                   mycurrent_cell.setAttribute("style", "word-wrap: break-word; width: 12%");
                   conteudo = lugares[g_i].ID;
			   	   currenttext = document.createTextNode(conteudo);
				   mycurrent_cell.appendChild(currenttext);
				   mycurrent_row.appendChild(mycurrent_cell);
               
                   mycurrent_cell = document.createElement("td");
                   mycurrent_cell.setAttribute("style", "word-wrap: break-word; width: 2%");
                   conteudo = lugares[g_i].ID;
			   	   currenttext = document.createTextNode('Detalhe');
                   mycurrent_cell.setAttribute("ID",'btn_'+(conteudo));
                   var click = 'clicar('+(conteudo)+')';
                   //var click = (g_i+1);
                   //console.log(click);
                   mycurrent_cell.setAttribute("ID",'btn_'+(g_i+1));
                   var btn_ID = lugares[g_i].ID;
                   var click = 'clicar('+btn_ID+')';               

                   mycurrent_cell.setAttribute("onclick", click);
                   //console.log(mycurrent_cell);
				   mycurrent_cell.appendChild(currenttext);
				   mycurrent_row.appendChild(mycurrent_cell);
			   
			    mytablebody.appendChild(mycurrent_row);
		   }
       mytable.appendChild(mytablebody);
       //mybody.appendChild(mytable);
}	


function clicar(btn_id){
        var p_id = btn_id;
        const header  = document.querySelector('header');
        const section = document.querySelector('section');
        let headers = new Headers();
        headers.append('Content-Type', 'application/json');
        headers.append('Accept', 'application/json');
        headers.append('Access-Control-Allow-Origin', host );
        headers.append('Access-Control-Allow-Credentials', 'true');
        headers.append('GET', 'POST', 'OPTIONS');
        headers.append('Upgrade-Insecure-Requests', '1');
    
        var requestURL = host + '/contratodb/' + btn_id ;
        console.log(requestURL);    

        var request = new XMLHttpRequest();
        request.open('GET', requestURL);
        request.responseType = 'json';
        request.send();

        request.onload = function() {
            var contrato = request.response;	
            console.log(contrato);    


            conteudo =   contrato[0].ID;
            if (conteudo != null) { ct_ID.setAttribute("Value", conteudo )};
             conteudo =   contrato[0].Designacao;
            if (conteudo != null) { ct_Designacao.setAttribute("Value", conteudo )};           
            
            // Data Ativação
            var DataAtiv = new Date();
            //conteudo = EpochToDate(contrato[0].Data_Ativacao);
            DataAtiv = EpochToDate(contrato[0].Data_Ativacao);
            //conteudo = EpochToDate(conteudo);
            //console.log("Data Ativação = " + conteudo);
            //DataAtiv = conteudo;
            console.log("DataAtiv = " + DataAtiv);
            //if (conteudo != null) { ct_data_ativacao.setAttribute("Value", conteudo )};           
            if (DataAtiv != null) { ct_data_ativacao.setAttribute("Value", DataAtiv )};  
            
            //document.getElementById('datePicker').value = new Date().toDateInputValue();
            
            conteudo =   contrato[0].taxa;
            if (conteudo != null) { ct_taxa.setAttribute("Value", conteudo )};    
            conteudo =   contrato[0].taxa_instal;
            if (conteudo != null) { ct_taxa_instal.setAttribute("Value", conteudo )};    
            
            conteudo =   contrato[0].Endereco;
            if (conteudo != null) { ct_Logradouro.setAttribute("Value", conteudo )}; 
            //conteudo =   contrato[0].End_Numero;
            //if (conteudo != null) { ct_Numero.setAttribute("Value", conteudo )}; 
            conteudo =   contrato[0].End_Complemento;
            if (conteudo != null) { ct_Complemento.setAttribute("Value", conteudo )}; 
            conteudo =   contrato[0].End_UF;
            if (conteudo != null) { ct_Estado.setAttribute("Value", conteudo )}; 
            conteudo =   contrato[0].End_Cidade;
            if (conteudo != null) { ct_Cidade.setAttribute("Value", conteudo )}; 
            conteudo =   contrato[0].End_Bairro;
            if (conteudo != null) { ct_Bairro.setAttribute("Value", conteudo )}; 
            conteudo =   contrato[0].End_Cep;
            if (conteudo != null) { ct_CEP.setAttribute("Value", conteudo )}; 
            conteudo =   contrato[0].Provedor_ID;
            if (conteudo != null) { ct_Provedor_ID.setAttribute("Value", conteudo )};
            conteudo =   contrato[0].Provedor_Nome;
            if (conteudo != null) { ct_Provedor_Nome.setAttribute("Value", conteudo )};
            conteudo =   contrato[0].Provedor_OS;
            if (conteudo != null) { ct_Provedor_OS.setAttribute("Value", conteudo )};
            conteudo =   contrato[0].Detalhes;
            if (conteudo != null) { ct_Detalhes.setAttribute("Value", conteudo )};            
            conteudo =   contrato[0].cobertura_id;
            if (conteudo != null) {ct_CoberturaID.setAttribute("Value", conteudo )};  
            conteudo =   contrato[0].Notas_Internas;
            if (conteudo != null) {ct_notas.setAttribute("Value", conteudo )};  
            conteudo =   contrato[0].cliente_resposavel_id;
            if (conteudo != null) {ct_cliente_resp_id.setAttribute("Value", conteudo )};  
            conteudo =   contrato[0].Provedor_Contrato;
            if (conteudo != null) {ct_Provedor_Ct.setAttribute("Value", conteudo )}; 
            conteudo =   contrato[0].Responsavel;
            if (conteudo != null) {ct_cliente_resp.setAttribute("Value", conteudo )};  
            conteudo =   contrato[0].Cliente_Final;
            if (conteudo != null) {ct_cliente.setAttribute("Value", conteudo )};             

        }        
}    
    
function EpochToDateList(epoch) {
    if ( epoch != null) {
        if (epoch < 10000000000) { epoch *= 1000; // convert to milliseconds (Epoch is usually expressed in seconds, but Javascript uses Milliseconds)
                                 }
        var epoch = epoch + (new Date().getTimezoneOffset() * -1); //for timeZone
        var novadata = new Date(epoch);
        var dia = novadata.getDate();
        if ( dia < 10) {dia = "0" + dia };
        var mes = novadata.getMonth()+1;
        if ( mes < 10) {mes = "0" + mes };
        var ano = novadata.getFullYear();
        novadata = dia + '/' + (mes++) + '/' + ano;
        //novadata = ano + '-' + mes + '-' + dia ;
        //console.log("epoch = " + epoch + "   Data Convertida = " + novadata);
    } 
    if ( epoch == undefined ) { novadata = "" ;
    }
    return novadata;
}
    
function EpochToDate(epoch) {
    if ( epoch != null) {
        if (epoch < 10000000000) { epoch *= 1000; // convert to milliseconds (Epoch is usually expressed in seconds, but Javascript uses Milliseconds)
                                 }
        var epoch = epoch + (new Date().getTimezoneOffset() * -1); //for timeZone
        var novadata = new Date(epoch);
        var dia = novadata.getDate();
        if ( dia < 10) {dia = "0" + dia };
        var mes = novadata.getMonth()+1;
        if ( mes < 10) {mes = "0" + mes };
        var ano = novadata.getFullYear();
        novadata = ano + '-' + mes + '-' + dia ;
        //console.log("epoch = " + epoch + "   Data Convertida = " + novadata);
    } 
    if ( typeof epoch == undefined ) { novadata = "indefinida" ;
        //console.log("Indefinida = " + novadata);
    }
    return novadata;
}   

function Open_Cobertura(){
    var w_id = document.getElementById('ct_CoberturaID').value;  
    var URL = 'provedores/cobertura.html?ID='+w_id;
    console.log(URL);
    window.open( URL , "_blank");
}
    

function Open_Provedor(){
    var w_id = document.getElementById('ct_Provedor_ID').value;  
    var URL = 'provedores/provedor.html?ID='+w_id;
    console.log(URL);
    window.open( URL , "_blank");
}
    
    
    
</script>
</html>
